<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø³ÙØ§Ø±Ø´ | Ù†ÙˆØ±Ù‡ Ø³ÙÙ‡Ø§</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#e9fff4;
    --bg2:#d9ffea;
    --accent:#0a6f42;
    --glass: rgba(255,255,255,0.12);
    --glass-strong: rgba(255,255,255,0.18);
    --muted:#9fcdb2;
    --card-shadow: 0 10px 30px rgba(4,49,28,0.12);
  }

  html,body{height:100%;margin:0;font-family:"Vazirmatn",sans-serif;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:#073a2b}
  a{text-decoration:none}
  .container{max-width:920px;margin:0 auto;padding:20px}

  /* ----- Start Screen ----- */
  .start-screen{
    display:block;
    text-align:center;padding:18px 8px 26px;
  }
  .start-title{font-size:28px;color:var(--accent);font-weight:700;margin:8px 0}
  .start-sub{color:var(--muted);margin-bottom:18px}
  .start-buttons{display:flex;gap:12px;flex-direction:column;max-width:420px;margin:0 auto}
  .btn{
    display:block;padding:14px;border-radius:14px;background:linear-gradient(135deg,#0b8a5f,#0a6f42);color:white;font-weight:700;border:0;cursor:pointer;box-shadow:0 8px 20px rgba(5,74,46,0.12)
  }
  .btn-ghost{background:transparent;border:1px solid rgba(10,111,66,0.12);color:var(--accent)}

  /* ----- Form container ----- */
  .form-container{
    display:none;
    min-height:100vh;
    align-items:flex-start;
    justify-content:center;
    padding:20px;
  }
  form{
    width:100%;max-width:920px;margin:0 auto;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));
    border-radius:18px;padding:22px;border:1px solid rgba(10,111,66,0.06);box-shadow:var(--card-shadow)
  }

  .row{display:flex;gap:12px;flex-wrap:wrap}
  label{display:block;color:#bfe9d1;font-weight:600;margin-bottom:8px}
  .input-field{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(10,111,66,0.12);background:transparent;color:#dbfff0;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)}
  textarea.input-field{min-height:90px;resize:vertical}

  .section-title{font-size:18px;color:var(--accent);margin:18px 0 12px;font-weight:700;text-align:center}

  /* ----- products section (in-form) ----- */
  .products-section{margin-top:8px}
  .product{
    background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
    border-radius:14px;padding:16px;margin-bottom:14px;border:1px solid rgba(255,255,255,0.03);
    display:flex;gap:14px;align-items:center;justify-content:space-between;
  }
  .product .info{flex:1}
  .product label{font-size:16px;color:#e8ffee;margin-bottom:6px}
  .product .meta{color:var(--muted);font-size:13px;margin-bottom:6px}
  .options{display:flex;gap:10px;align-items:center;flex-wrap:wrap}

  .qty{width:110px;padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:#eafff5}

  .choice{display:flex;align-items:center;gap:8px;color:#e8ffee}
  .choice input{width:20px;height:20px;border-radius:4px}

  /* product highlight when coming from product card */
  .product.highlight{box-shadow:0 18px 40px rgba(10,111,66,0.14);outline:2px solid rgba(10,111,66,0.06)}

  /* submit */
  .actions{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:16px}
  .btn-primary{background:linear-gradient(135deg,#1b8f59,#0a6f42);color:#fff;padding:12px 18px;border-radius:12px;border:0;font-weight:700;cursor:pointer}
  .btn-whatsapp{background:linear-gradient(135deg,#25D366,#128C7E);color:#fff;padding:12px 18px;border-radius:12px;border:0;font-weight:700;cursor:pointer}

  /* ----- Products showcase (lux cards) ----- */
  .products-showcase{margin-top:28px}
  .card{
    background:rgba(255,255,255,0.65);backdrop-filter:blur(12px);border-radius:18px;padding:12px;margin-bottom:20px;box-shadow:0 10px 35px rgba(0,0,0,0.08);transition:.35s;overflow:hidden;
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 18px 45px rgba(0,0,0,0.14)}
  .card img{width:100%;border-radius:12px;margin-bottom:10px;display:block}
  .card h3{color:#044f36;margin:6px 0;font-size:18px}
  .card p{color:var(--muted);margin:0 0 8px;font-size:14px}
  .card .card-btn{display:block;padding:12px;border-radius:12px;background:linear-gradient(135deg,#0a6f42,#07452a);color:#fff;text-align:center;font-weight:700}

  /* stagger animations */
  .card{opacity:0;transform:translateY(28px);animation:cardIn .9s forwards ease}
  .card:nth-child(1){animation-delay:.15s}
  .card:nth-child(2){animation-delay:.35s}
  .card:nth-child(3){animation-delay:.55s}
  .card:nth-child(4){animation-delay:.75s}
  .card:nth-child(5){animation-delay:.95s}
  @keyframes cardIn{to{opacity:1;transform:translateY(0)}}

  /* ----- Confirm modal (premium glass) ----- */
  .modal-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(rgba(0,0,0,0.6),rgba(0,0,0,0.55));z-index:9999}
  .modal{
    width:92%;max-width:520px;background:rgba(255,255,255,0.08);backdrop-filter:blur(20px) saturate(140%);
    border-radius:18px;padding:20px;border:1px solid rgba(0,255,150,0.12);box-shadow:0 10px 50px rgba(0,255,150,0.06);color:#eafff0;text-align:center
  }
  .modal h2{color:#c8fff0;margin:8px 0}
  .modal pre{white-space:pre-wrap;text-align:right;direction:rtl;color:#e6fff5;line-height:1.9;font-size:14px}
  .modal .confirm-actions{display:flex;gap:12px;margin-top:16px;justify-content:center}
  .btn-confirm{flex:1;padding:12px;border-radius:12px;border:0;background:linear-gradient(135deg,#00f59d,#00b56d);color:#023a24;font-weight:800;cursor:pointer}
  .btn-cancel{flex:1;padding:12px;border-radius:12px;border:0;background:rgba(255,255,255,0.12);color:#fff;cursor:pointer}

  /* success toast */
  .toast{
    position:fixed;left:50%;transform:translateX(-50%);bottom:-120px;background:linear-gradient(135deg,#14c67b,#0a8b50);color:#fff;padding:12px 22px;border-radius:14px;box-shadow:0 10px 30px rgba(10,120,70,0.18);z-index:99999;transition:all .45s
  }
  .toast.show{bottom:32px}

  /* responsive */
  @media (min-width:740px){
    .product{padding:18px}
    .row{gap:18px}
    .start-buttons{flex-direction:row;justify-content:center}
    .products-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
  }
</style>
</head>
<body>

<div class="container">

  <!-- START SCREEN -->
  <section class="start-screen" id="startScreen">
    <h1 class="start-title">ğŸŒ¿ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ â€” Ù…Ø­ØµÙˆÙ„Ø§Øª Ø·Ø¨ÛŒØ¹ÛŒ Ù†ÙˆØ±Ù‡ Ø³ÙÙ‡Ø§</h1>
    <div class="start-sub">Ø·Ø¨ÛŒØ¹ÛŒØŒ Ø¯Ø±Ù…Ø§Ù†ÛŒ Ùˆ Ø§ØµÛŒÙ„ â€” Ø¨Ø±Ø§ÛŒ Ø³ÙØ§Ø±Ø´ Ø§Ø² Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</div>

    <div class="start-buttons">
      <button class="btn" onclick="openForm()">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ÙØ±Ù… Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
      <button class="btn btn-ghost" onclick="showProducts()">Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ù…Ø­ØµÙˆÙ„Ø§Øª</button>
    </div>
  </section>

  <!-- ORDER FORM -->
  <section id="orderFormSection" class="form-container" style="display:none">
    <form id="mainForm">
      <div style="display:flex;justify-content:center">
        <h2 class="section-title">ğŸ›’ ÙØ±Ù… Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</h2>
      </div>

      <div class="row">
        <div style="flex:1;min-width:220px">
          <label>ğŸ‘¤ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
          <input id="name" class="input-field" type="text" required>
        </div>
        <div style="flex:1;min-width:220px">
          <label>ğŸ“± Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³</label>
          <input id="phone" class="input-field" type="tel" required>
        </div>
      </div>

      <div style="margin-top:12px">
        <label>ğŸ  Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„</label>
        <textarea id="address" class="input-field"></textarea>
      </div>

      <div style="margin-top:12px">
        <label>âœ‰ï¸ Ú©Ø¯ Ù¾Ø³ØªÛŒ</label>
        <input id="postalCode" class="input-field" type="text">
      </div>

      <!-- Products selection (each product has qty + two choices: carton / pack) -->
      <div class="products-section">
        <h3 class="section-title">â˜• Ø¨Ø®Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„ (Ù†ÙˆØ±Ù‡ Ø³Ù‡Ø§)</h3>

        <!-- Product 1 -->
        <div class="product" data-product="Ø¨Ø³ØªÙ‡ ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ Ø³Ø¨Ø² Ø³ÙÙ‡Ø§" id="prod-1">
          <div class="info">
            <label>Ø¨Ø³ØªÙ‡ ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ Ø³Ø¨Ø² Ø³ÙÙ‡Ø§</label>
            <div class="meta">ÙˆØ¶Ø¹ÛŒØª: Ø§Ø¹Ù„ÛŒ Ùˆ Ø¯Ø±Ù…Ø§Ù†ÛŒ â€” ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± Ú©Ø§Ø±ØªÙ†: 35 Ø¹Ø¯Ø¯</div>
            <div class="options">
              <label class="choice"><input type="checkbox" data-choice="carton"> Ú©Ø§Ø±ØªÙ†</label>
              <label class="choice"><input type="checkbox" data-choice="pack"> Ø¨Ø³ØªÙ‡</label>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
            <input class="qty" id="qty-1" type="number" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
            <button type="button" class="btn" onclick="scrollToProduct('prod-1')">ğŸ” Ù…Ø­Ù„ Ù…Ø­ØµÙˆÙ„</button>
          </div>
        </div>

        <!-- Product 2 -->
        <div class="product" data-product="Ø¬Ø¹Ø¨Ù‡ Û²ÛµÛ° Ú¯Ø±Ù…ÛŒ Ø³Ø§Ø´Ù‡â€ŒØ§ÛŒ Ø³ÙÙ‡Ø§" id="prod-2">
          <div class="info">
            <label>Ø¬Ø¹Ø¨Ù‡ Û²ÛµÛ° Ú¯Ø±Ù…ÛŒ Ø³Ø§Ø´Ù‡â€ŒØ§ÛŒ Ø³ÙÙ‡Ø§</label>
            <div class="meta">Û´ Ø¹Ø¯Ø¯ Ø³Ø§Ø´Ù‡ Û¶Ûµ Ú¯Ø±Ù…ÛŒ â€” ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± Ú©Ø§Ø±ØªÙ†: 50</div>
            <div class="options">
              <label class="choice"><input type="checkbox" data-choice="carton"> Ú©Ø§Ø±ØªÙ†</label>
              <label class="choice"><input type="checkbox" data-choice="pack"> Ø¨Ø³ØªÙ‡</label>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
            <input class="qty" id="qty-2" type="number" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
            <button type="button" class="btn" onclick="scrollToProduct('prod-2')">ğŸ” Ù…Ø­Ù„ Ù…Ø­ØµÙˆÙ„</button>
          </div>
        </div>

        <!-- Product 3 -->
        <div class="product" data-product="Ø¨Ø³ØªÙ‡ ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ø¨Ø§Ú©Ø³ Ù¾ÙˆØ¬" id="prod-3">
          <div class="info">
            <label>Ø¨Ø³ØªÙ‡ ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ø¨Ø§Ú©Ø³ Ù¾ÙˆØ¬</label>
            <div class="meta">ÙˆØ²Ù†: Û± Ú©ÛŒÙ„Ùˆ â€” Ø¯Ø± Ú©Ø§Ø±ØªÙ†: 17 Ø¹Ø¯Ø¯ â€” ÙˆØ¶Ø¹ÛŒØª: Ù†Ø³Ø¨ØªØ§ Ø¯Ø±Ù…Ø§Ù†ÛŒ</div>
            <div class="options">
              <label class="choice"><input type="checkbox" data-choice="carton"> Ú©Ø§Ø±ØªÙ†</label>
              <label class="choice"><input type="checkbox" data-choice="pack"> Ø¨Ø³ØªÙ‡</label>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
            <input class="qty" id="qty-3" type="number" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
            <button type="button" class="btn" onclick="scrollToProduct('prod-3')">ğŸ” Ù…Ø­Ù„ Ù…Ø­ØµÙˆÙ„</button>
          </div>
        </div>

        <!-- Product 4 -->
        <div class="product" data-product="Ù¾Ø§Ú©Øª Ø·Ù„Ø§ÛŒÛŒ Ù¾Ù†Ø¬Ø±Ù‡â€ŒØ¯Ø§Ø± (ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ)" id="prod-4">
          <div class="info">
            <label>Ù¾Ø§Ú©Øª Ø·Ù„Ø§ÛŒÛŒ Ù¾Ù†Ø¬Ø±Ù‡â€ŒØ¯Ø§Ø± (ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ)</label>
            <div class="meta">Ø¯Ø± Ù‡Ø± Ú¯ÙˆÙ†ÛŒ: 50 â€” ÙˆØ¶Ø¹ÛŒØª: Ù…ØªÙˆØ³Ø·ØŒ Ø­Ø¯ÙˆØ¯Ø§ Ø¯Ø±Ù…Ø§Ù†ÛŒ</div>
            <div class="options">
              <label class="choice"><input type="checkbox" data-choice="carton"> Ú©Ø§Ø±ØªÙ†</label>
              <label class="choice"><input type="checkbox" data-choice="pack"> Ø¨Ø³ØªÙ‡</label>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
            <input class="qty" id="qty-4" type="number" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
            <button type="button" class="btn" onclick="scrollToProduct('prod-4')">ğŸ” Ù…Ø­Ù„ Ù…Ø­ØµÙˆÙ„</button>
          </div>
        </div>

        <!-- Product 5 -->
        <div class="product" data-product="Ù¾Ø§Ú©Øª ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ" id="prod-5">
          <div class="info">
            <label>Ù¾Ø§Ú©Øª ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ</label>
            <div class="meta">Ø¯Ø± Ù‡Ø± Ú¯ÙˆÙ†ÛŒ: 25 â€” ÙˆØ¶Ø¹ÛŒØª: Ù…ØªÙˆØ³Ø·ØŒ Ù…ÙˆØ¨Ø±ÛŒ</div>
            <div class="options">
              <label class="choice"><input type="checkbox" data-choice="carton"> Ú©Ø§Ø±ØªÙ†</label>
              <label class="choice"><input type="checkbox" data-choice="pack"> Ø¨Ø³ØªÙ‡</label>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
            <input class="qty" id="qty-5" type="number" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
            <button type="button" class="btn" onclick="scrollToProduct('prod-5')">ğŸ” Ù…Ø­Ù„ Ù…Ø­ØµÙˆÙ„</button>
          </div>
        </div>

      </div><!-- end products-section -->

      <div style="margin-top:14px">
        <label>ğŸ—’ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§Ø¶Ø§ÙÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
        <textarea id="notes" class="input-field"></textarea>
      </div>

      <div class="actions">
        <button type="submit" class="btn-primary">Ø«Ø¨Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´</button>
        <a class="btn-whatsapp" href="https://wa.me/989307122660" target="_blank">ğŸ’¬ Ø³ÙØ§Ø±Ø´ Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙˆØ§ØªØ³Ø§Ù¾</a>
        <button type="button" class="btn btn-ghost" onclick="showProducts()">Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ù…Ø­ØµÙˆÙ„Ø§Øª</button>
      </div>

    </form>
  </section>

  <!-- PRODUCTS SHOWCASE (separate section in same page) -->
  <section id="productsShowcase" class="products-showcase" style="display:none">
    <h2 class="section-title">ğŸŒ¿ Ù…Ø¹Ø±ÙÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†ÙˆØ±Ù‡ Ø³ÙÙ‡Ø§</h2>
    <div class="products-grid">
      <div class="card">
        <img src="images/product1.jpg" alt="">
        <h3>Ø¨Ø³ØªÙ‡ ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ Ø³Ø¨Ø² Ø³ÙÙ‡Ø§</h3>
        <p>ÙˆØ¶Ø¹ÛŒØª: Ø§Ø¹Ù„ÛŒ Ùˆ Ø¯Ø±Ù…Ø§Ù†ÛŒ â€” Ø¯Ø§Ø±Ø§ÛŒ Ù¾Ú©: Ø¯Ø³ØªÚ©Ø´ + Ú†ÙˆØ¨Ú© + Ú¯Ù„ Ù…Ø­Ù…Ø¯ÛŒ</p>
        <button class="card-btn" onclick="orderFromShow('prod-1')">ğŸ› Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
      </div>

      <div class="card">
        <img src="images/product2.jpg" alt="">
        <h3>Ø¬Ø¹Ø¨Ù‡ Û²ÛµÛ° Ú¯Ø±Ù…ÛŒ Ø³Ø§Ø´Ù‡â€ŒØ§ÛŒ Ø³ÙÙ‡Ø§</h3>
        <p>Û´ Ø³Ø§Ø´Ù‡ Ã— Û¶Ûµ Ú¯Ø±Ù… â€” ÙˆØ¶Ø¹ÛŒØª: Ø§Ø¹Ù„ÛŒ Ùˆ Ø¯Ø±Ù…Ø§Ù†ÛŒ</p>
        <button class="card-btn" onclick="orderFromShow('prod-2')">ğŸ› Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
      </div>

      <div class="card">
        <img src="images/product3.jpg" alt="">
        <h3>Ø¨Ø³ØªÙ‡ ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ø¨Ø§Ú©Ø³ Ù¾ÙˆØ¬</h3>
        <p>ÛŒÚ© Ú©ÛŒÙ„Ùˆ â€” Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¹Ù…Ø¯Ù‡</p>
        <button class="card-btn" onclick="orderFromShow('prod-3')">ğŸ› Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
      </div>

      <div class="card">
        <img src="images/product4.jpg" alt="">
        <h3>Ù¾Ø§Ú©Øª Ø·Ù„Ø§ÛŒÛŒ Ù¾Ù†Ø¬Ø±Ù‡â€ŒØ¯Ø§Ø± (ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ)</h3>
        <p>Ø¯Ø± Ù‡Ø± Ú¯ÙˆÙ†ÛŒ: 50 â€” Ø§Ù…Ú©Ø§Ù† Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø§Ø®Ù„ Ú©Ø§Ø±ØªÙ†</p>
        <button class="card-btn" onclick="orderFromShow('prod-4')">ğŸ› Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
      </div>

      <div class="card">
        <img src="images/product5.jpg" alt="">
        <h3>Ù¾Ø§Ú©Øª ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ</h3>
        <p>Ø¯Ø± Ù‡Ø± Ú¯ÙˆÙ†ÛŒ: 25 â€” ÙˆØ¶Ø¹ÛŒØª: Ù…ØªÙˆØ³Ø· Ùˆ Ù…ÙˆØ¨Ø±ÛŒ</p>
        <button class="card-btn" onclick="orderFromShow('prod-5')">ğŸ› Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
      </div>
    </div>

    <div style="text-align:center;margin-top:18px">
      <button class="btn btn-ghost" onclick="hideProducts()">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±Ù…</button>
    </div>
  </section>

  <!-- Note -->
  <div style="margin-top:22px">
    <div style="background:rgba(255,255,235,0.75);padding:12px;border-radius:12px;color:#264b36;border-left:6px solid #f5d155">
      âš ï¸ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø´Ù…Ø§Ø±Ù‡ Û³ØŒ Û´ Ùˆ Ûµ Ø¯Ø§Ø±Ø§ÛŒ Ø¨Ø±Ú†Ø³Ø¨ Â«Ú©ÛŒÙ…ÛŒØ§Â» Ù…ÛŒâ€ŒØ¨Ø§Ø´Ù†Ø¯. Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³ÙØ§Ø±Ø´ Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ú†Ø³Ø¨ Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ú©Ù†ÛŒØ¯.
    </div>
  </div>

</div> <!-- end container -->

<!-- ======== Confirm Modal (Premium Glass) ======== -->
<div id="confirmModal" class="modal-overlay">
  <div class="modal" role="dialog" aria-modal="true">
    <h2>ØªØ§ÛŒÛŒØ¯ Ù†Ù‡Ø§ÛŒÛŒ Ø³ÙØ§Ø±Ø´ ğŸŒ¿</h2>
    <pre id="orderSummary">...</pre>
    <div class="confirm-actions">
      <button id="confirmSend" class="btn-confirm">âœ… ØªØ§ÛŒÛŒØ¯ Ùˆ Ø§Ø±Ø³Ø§Ù„</button>
      <button id="cancelConfirm" class="btn-cancel">âœ– Ø¨Ø§Ø²Ú¯Ø´Øª Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´</button>
    </div>
  </div>
</div>

<!-- success toast -->
<div id="successToast" class="toast">âœ… Ø³ÙØ§Ø±Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯ ğŸŒ¿</div>

<script>
  // --- helpers & element refs ---
  const startScreen = document.getElementById('startScreen');
  const orderFormSection = document.getElementById('orderFormSection');
  const productsShowcase = document.getElementById('productsShowcase');
  const confirmModal = document.getElementById('confirmModal');
  const orderSummaryEl = document.getElementById('orderSummary');
  const confirmSend = document.getElementById('confirmSend');
  const cancelConfirm = document.getElementById('cancelConfirm');
  const successToast = document.getElementById('successToast');
  const mainForm = document.getElementById('mainForm');

  const nameField = document.getElementById('name');
  const phoneField = document.getElementById('phone');
  const addressField = document.getElementById('address');
  const notesField = document.getElementById('notes');

  // Show/hide
  function openForm(){ startScreen.style.display='none'; orderFormSection.style.display='flex'; window.scrollTo({top:0,behavior:'smooth'}); }
  function showProducts(){ productsShowcase.style.display='block'; orderFormSection.style.display='none'; startScreen.style.display='none'; window.scrollTo({top:0,behavior:'smooth'}); }
  function hideProducts(){ productsShowcase.style.display='none'; orderFormSection.style.display='flex'; window.scrollTo({top:0,behavior:'smooth'}); }

  // Scroll to product block + highlight
  function scrollToProduct(prodId){
    // Open form if not visible
    if(orderFormSection.style.display==='none'){ orderFormSection.style.display='flex'; productsShowcase.style.display='none'; startScreen.style.display='none'; }
    const el=document.getElementById(prodId);
    if(!el) return;
    el.scrollIntoView({behavior:'smooth',block:'center'});
    el.classList.add('highlight');
    setTimeout(()=>el.classList.remove('highlight'),2200);
  }

  // Called when clicking "Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´" on product card in showcase
  function orderFromShow(prodId){
    // show form and set default qty to 1
    hideProducts();
    const qtyEl=document.querySelector(`#${prodId} .qty`);
    if(qtyEl){ qtyEl.value = qtyEl.value && Number(qtyEl.value) > 0 ? qtyEl.value : 1; }
    // also auto-select pack by default when coming from showcase
    const productEl = document.getElementById(prodId);
    if(productEl){
      const packChoice = productEl.querySelector('input[data-choice="pack"]');
      if(packChoice) packChoice.checked = true;
      // ensure only one checkbox remains checked within that product
      productEl.querySelectorAll('input[type="checkbox"]').forEach((cb)=>{
        cb.addEventListener('change', ()=> {
          productEl.querySelectorAll('input[type="checkbox"]').forEach(c=>{ if(c!==cb) c.checked=false; });
        });
      });
      productEl.scrollIntoView({behavior:'smooth',block:'center'});
      productEl.classList.add('highlight');
      setTimeout(()=>productEl.classList.remove('highlight'),2000);
    }
    // make form visible
    orderFormSection.style.display='flex';
  }

  // Ensure only one choice per product (carton or pack)
  document.addEventListener('change',(e)=>{
    if(e.target.matches('.product input[type="checkbox"]')){
      const product = e.target.closest('.product');
      if(!product) return;
      product.querySelectorAll('input[type="checkbox"]').forEach(cb=>{
        if(cb!==e.target) cb.checked=false;
      });
    }
  });

  // Build order summary and show confirm modal
  mainForm.addEventListener('submit', (ev)=>{
    ev.preventDefault();

    const name = nameField.value.trim() || 'â€”';
    const phone = phoneField.value.trim() || 'â€”';
    const address = addressField.value.trim() || 'â€”';
    const notes = notesField.value.trim() || 'â€”';

    // collect products
    const products = Array.from(document.querySelectorAll('.product')).map(prod=>{
      const title = prod.dataset.product || (prod.querySelector('label')?.innerText || 'Ù…Ø­ØµÙˆÙ„');
      const qty = Number(prod.querySelector('.qty')?.value || 0);
      const choice = prod.querySelector('input[type="checkbox"]:checked')?.dataset.choice || null;
      if(qty>0) return {title,qty,choice};
      return null;
    }).filter(Boolean);

    if(products.length === 0){
      alert('Ù„Ø·ÙØ§Ù‹ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù…ÙˆØ¯Ù‡ Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.');
      return;
    }

    // create summary string
    let prodLines = products.map(p=>{
      const typeText = p.choice === 'carton' ? 'Ú©Ø§Ø±ØªÙ†' : (p.choice === 'pack' ? 'Ø¨Ø³ØªÙ‡' : 'Ù†ÙˆØ¹: â€”');
      return `â€¢ ${p.title} â€” ${p.qty} Ø¹Ø¯Ø¯  /  (${typeText})`;
    }).join('\n');

    const summary = `ğŸ§ Ù†Ø§Ù…: ${name}\nğŸ“ ØªÙ…Ø§Ø³: ${phone}\n\nğŸ› Ø³ÙØ§Ø±Ø´:\n${prodLines}\n\nğŸ  Ø¢Ø¯Ø±Ø³:\n${address}\n\nğŸ—’ ØªÙˆØ¶ÛŒØ­Ø§Øª:\n${notes}`;

    orderSummaryEl.innerText = summary;
    confirmModal.style.display = 'flex';
  });

  // Confirm & send
  confirmSend.addEventListener('click', async ()=>{
    confirmModal.style.display = 'none';

    // assemble payload
    const payload = {
      name: nameField.value.trim(),
      phone: phoneField.value.trim(),
      address: addressField.value.trim(),
      postalCode: document.getElementById('postalCode')?.value?.trim() || '',
      notes: notesField.value.trim(),
      products: Array.from(document.querySelectorAll('.product')).map(prod=>{
        const title = prod.dataset.product || (prod.querySelector('label')?.innerText || 'Ù…Ø­ØµÙˆÙ„');
        const qty = Number(prod.querySelector('.qty')?.value || 0);
        const choice = prod.querySelector('input[type="checkbox"]:checked')?.dataset.choice || null;
        return {title, quantity: qty, choice};
      }).filter(p=>p.quantity>0)
    };

    try {
      const resp = await fetch('/api/order', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });

      const result = await resp.json().catch(()=>({ok:false}));
      if(result.ok || resp.status === 200){
        // success
        // show toast
        successToast.classList.add('show');
        successToast.classList.add('show'); // ensure class
        successToast.style.bottom = '32px';
        setTimeout(()=>{ successToast.style.bottom = '-120px'; }, 2600);

        // reset only product selections and notes (name/phone kept for convenience)
        document.querySelectorAll('.qty').forEach(i=>i.value='');
        document.querySelectorAll('.product input[type="checkbox"]').forEach(cb=>cb.checked=false);
        notesField.value = '';
      } else {
        alert('âŒ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯ â€” Ù„Ø·ÙØ§Ù‹ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.');
      }
    } catch (err){
      console.error(err);
      alert('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· â€” Ù„Ø·ÙØ§ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.');
    }
  });

  // Cancel confirm
  cancelConfirm.addEventListener('click', ()=>{ confirmModal.style.display='none'; });

  // Close modal when clicking outside content
  confirmModal.addEventListener('click', (e)=>{ if(e.target === confirmModal) confirmModal.style.display='none'; });

  // small utility: keyboard enter inside qty won't submit suddenly because we preventDefault on form submission above
  // but allow pressing ESC to close confirm modal:
  document.addEventListener('keydown',(e)=>{ if(e.key==='Escape'){ confirmModal.style.display='none'; } });

  // initial quick behaviour: if user navigated directly to page, show start screen. If they click start -> form shows.
  // nothing more to do
</script>
</body>
</html>
